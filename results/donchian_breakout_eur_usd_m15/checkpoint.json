{
  "strategy_name": "donchian_breakout",
  "strategy_version": "1.0.0",
  "pair": "EUR/USD",
  "timeframe": "M15",
  "completed_stages": [
    3,
    4,
    5,
    6,
    7
  ],
  "current_stage": 7,
  "candidates": [
    {
      "candidate_index": 0,
      "params": {
        "donchian_period": 60,
        "sl_mode": "swing",
        "sl_fixed_pips": 95,
        "sl_atr_mult": 1.0,
        "tp_mode": "rr_ratio",
        "tp_rr_ratio": 2.0,
        "tp_atr_mult": 1.0,
        "tp_fixed_pips": 90,
        "trailing_mode": "off",
        "trail_activate_pips": 0,
        "trail_distance_pips": 30,
        "trail_atr_mult": 2.5,
        "breakeven_enabled": false,
        "breakeven_trigger_pips": 7,
        "breakeven_offset_pips": 3,
        "partial_close_enabled": true,
        "partial_close_pct": 30,
        "partial_close_trigger_pips": 10,
        "max_bars": 0,
        "stale_exit_enabled": false,
        "stale_exit_bars": 20,
        "stale_exit_atr_threshold": 0.75,
        "allowed_hours_start": 20,
        "allowed_hours_end": 21,
        "allowed_days": [
          1,
          2,
          3
        ]
      },
      "back_quality": 2.39775189591271,
      "forward_quality": 0,
      "forward_back_ratio": 0.0,
      "back_sharpe": 0.5397060358476431,
      "back_trades": 229,
      "n_trials": 300000,
      "walk_forward": {
        "windows": [
          {
            "window_index": 15,
            "start_bar": 312480,
            "end_bar": 352801,
            "is_oos": true,
            "n_trades": 27,
            "sharpe": -1.8745127574361984,
            "quality_score": 0.0,
            "profit_factor": 0.3331150301726012,
            "max_dd_pct": 100.0,
            "return_pct": -1127.6498505889167,
            "passed": false
          },
          {
            "window_index": 16,
            "start_bar": 333312,
            "end_bar": 373633,
            "is_oos": true,
            "n_trades": 36,
            "sharpe": 0.9263597726715459,
            "quality_score": 0.13513791098805802,
            "profit_factor": 1.5909452520430465,
            "max_dd_pct": 84.57263637875798,
            "return_pct": 833.3293462179527,
            "passed": true
          },
          {
            "window_index": 0,
            "start_bar": 0,
            "end_bar": 40321,
            "is_oos": false,
            "n_trades": 21,
            "sharpe": 1.26551286333293,
            "quality_score": 0.8751681608639822,
            "profit_factor": 2.2964487231690205,
            "max_dd_pct": 24.28518547600245,
            "return_pct": 906.9953006152547,
            "passed": true
          },
          {
            "window_index": 1,
            "start_bar": 20832,
            "end_bar": 61153,
            "is_oos": false,
            "n_trades": 15,
            "sharpe": 0.48424606101785195,
            "quality_score": 0.13668121391887306,
            "profit_factor": 1.4727577118797965,
            "max_dd_pct": 43.7799373164368,
            "return_pct": 293.2047152353888,
            "passed": true
          },
          {
            "window_index": 2,
            "start_bar": 41664,
            "end_bar": 81985,
            "is_oos": false,
            "n_trades": 19,
            "sharpe": 1.1687945259689154,
            "quality_score": 0.7016956340032712,
            "profit_factor": 2.24951115600269,
            "max_dd_pct": 35.264428806832925,
            "return_pct": 794.9221697090356,
            "passed": true
          },
          {
            "window_index": 3,
            "start_bar": 62496,
            "end_bar": 102817,
            "is_oos": false,
            "n_trades": 13,
            "sharpe": 1.1339640684227232,
            "quality_score": 0.37064577592075343,
            "profit_factor": 2.6192056553881944,
            "max_dd_pct": 56.701271433572956,
            "return_pct": 518.6776145202944,
            "passed": true
          },
          {
            "window_index": 4,
            "start_bar": 83328,
            "end_bar": 123649,
            "is_oos": false,
            "n_trades": 27,
            "sharpe": 1.5262421313626755,
            "quality_score": 1.6290304619545075,
            "profit_factor": 2.5805482951421133,
            "max_dd_pct": 35.4241865736799,
            "return_pct": 1252.248312152484,
            "passed": true
          },
          {
            "window_index": 5,
            "start_bar": 104160,
            "end_bar": 144481,
            "is_oos": false,
            "n_trades": 32,
            "sharpe": 1.4361407403217152,
            "quality_score": 2.2542278629990173,
            "profit_factor": 2.330722090126769,
            "max_dd_pct": 33.01987807605811,
            "return_pct": 1390.2053829270865,
            "passed": true
          },
          {
            "window_index": 6,
            "start_bar": 124992,
            "end_bar": 165313,
            "is_oos": false,
            "n_trades": 38,
            "sharpe": -0.5273886997348594,
            "quality_score": 0.0,
            "profit_factor": 0.7441477854946842,
            "max_dd_pct": 179.6853792581611,
            "return_pct": -499.3812684581963,
            "passed": false
          },
          {
            "window_index": 7,
            "start_bar": 145824,
            "end_bar": 186145,
            "is_oos": false,
            "n_trades": 47,
            "sharpe": -0.7253133031244656,
            "quality_score": 0.0,
            "profit_factor": 0.7218218596483196,
            "max_dd_pct": 124.90879115034636,
            "return_pct": -688.5058762935594,
            "passed": false
          },
          {
            "window_index": 8,
            "start_bar": 166656,
            "end_bar": 206977,
            "is_oos": false,
            "n_trades": 37,
            "sharpe": 0.6116976199440565,
            "quality_score": 0.000566877766543392,
            "profit_factor": 1.3307349971841476,
            "max_dd_pct": 111.98490091224087,
            "return_pct": 470.76778778827475,
            "passed": true
          },
          {
            "window_index": 9,
            "start_bar": 187488,
            "end_bar": 227809,
            "is_oos": false,
            "n_trades": 26,
            "sharpe": 1.2653271753764235,
            "quality_score": 2.5749458747413962,
            "profit_factor": 2.4894985917103143,
            "max_dd_pct": 15.464073874360162,
            "return_pct": 1231.7780809458473,
            "passed": true
          },
          {
            "window_index": 10,
            "start_bar": 208320,
            "end_bar": 248641,
            "is_oos": false,
            "n_trades": 22,
            "sharpe": 1.3768010995549949,
            "quality_score": 0.5063614004050626,
            "profit_factor": 2.5719379288692434,
            "max_dd_pct": 24.688788782440067,
            "return_pct": 1083.2944647372435,
            "passed": true
          },
          {
            "window_index": 11,
            "start_bar": 229152,
            "end_bar": 269473,
            "is_oos": false,
            "n_trades": 37,
            "sharpe": 2.7254110258298136,
            "quality_score": 6.640525021065433,
            "profit_factor": 3.7000759980329,
            "max_dd_pct": 10.638873251874006,
            "return_pct": 2372.9923545235397,
            "passed": true
          },
          {
            "window_index": 12,
            "start_bar": 249984,
            "end_bar": 290305,
            "is_oos": false,
            "n_trades": 40,
            "sharpe": 2.5475300769845006,
            "quality_score": 4.767058543235144,
            "profit_factor": 3.173986179305246,
            "max_dd_pct": 9.599621532792488,
            "return_pct": 2438.6562121501433,
            "passed": true
          },
          {
            "window_index": 13,
            "start_bar": 270816,
            "end_bar": 311137,
            "is_oos": false,
            "n_trades": 38,
            "sharpe": 0.7679817020417956,
            "quality_score": 0.1422166415315144,
            "profit_factor": 1.524508255227506,
            "max_dd_pct": 74.73982182999144,
            "return_pct": 831.4093959731237,
            "passed": true
          },
          {
            "window_index": 14,
            "start_bar": 291648,
            "end_bar": 331969,
            "is_oos": false,
            "n_trades": 37,
            "sharpe": -0.0008697143743220192,
            "quality_score": 0.0,
            "profit_factor": 0.9994617689490404,
            "max_dd_pct": 101.0394459361394,
            "return_pct": -0.9222190816726517,
            "passed": false
          }
        ],
        "n_windows": 17,
        "n_oos_windows": 2,
        "n_passed": 1,
        "pass_rate": 0.5,
        "mean_sharpe": -0.47407649238232624,
        "mean_quality": 0.06756895549402901,
        "geo_mean_quality": 0.13513791098805805,
        "min_quality": 0.0,
        "quality_cv": 1.0,
        "wfe": 0.010175242963422789,
        "passed_gate": false
      },
      "cpcv": null,
      "stability": null,
      "monte_carlo": null,
      "regime": null,
      "trade_stats": {
        "n_trades": 4551,
        "total_pnl_pips": 52405.3,
        "total_pnl_usd": 5240.53,
        "lot_size": 0.01,
        "pip_value_usd": 0.1,
        "win_rate": 37.9,
        "profit_factor": 1.39,
        "avg_pnl_pips": 11.52,
        "median_pnl_pips": -23.1,
        "best_trade_pips": 452.93,
        "worst_trade_pips": -238.37,
        "std_dev_pips": 93.24,
        "avg_bars_held": 557.5,
        "exit_breakdown": {
          "stop_loss": {
            "count": 2826,
            "pct": 62.1,
            "pnl_pips": -133193.12,
            "pnl_usd": -13319.31
          },
          "take_profit": {
            "count": 1707,
            "pct": 37.5,
            "pnl_pips": 185555.94,
            "pnl_usd": 18555.59
          },
          "open": {
            "count": 18,
            "pct": 0.4,
            "pnl_pips": 42.48,
            "pnl_usd": 4.25
          }
        },
        "direction_stats": {
          "BUY": {
            "n_trades": 2242,
            "win_rate": 39.6,
            "total_pnl_pips": 33756.72,
            "total_pnl_usd": 3375.67
          },
          "SELL": {
            "n_trades": 2309,
            "win_rate": 36.2,
            "total_pnl_pips": 18648.58,
            "total_pnl_usd": 1864.86
          }
        }
      },
      "confidence": null,
      "eliminated": false,
      "eliminated_at_stage": "walk_forward",
      "elimination_reason": "pass_rate=0.50, mean_sharpe=-0.47",
      "force_deployed": true,
      "force_deploy_note": "Force-deployed for practice testing. Original: eliminated at walk_forward (pass_rate=0.50, mean_sharpe=-0.47)"
    },
    {
      "candidate_index": 1,
      "params": {
        "donchian_period": 50,
        "sl_mode": "swing",
        "sl_fixed_pips": 90,
        "sl_atr_mult": 1.0,
        "tp_mode": "rr_ratio",
        "tp_rr_ratio": 2.0,
        "tp_atr_mult": 4.0,
        "tp_fixed_pips": 30,
        "trailing_mode": "off",
        "trail_activate_pips": 30,
        "trail_distance_pips": 10,
        "trail_atr_mult": 2.5,
        "breakeven_enabled": false,
        "breakeven_trigger_pips": 20,
        "breakeven_offset_pips": 3,
        "partial_close_enabled": true,
        "partial_close_pct": 70,
        "partial_close_trigger_pips": 10,
        "max_bars": 0,
        "stale_exit_enabled": false,
        "stale_exit_bars": 100,
        "stale_exit_atr_threshold": 1.0,
        "allowed_hours_start": 21,
        "allowed_hours_end": 21,
        "allowed_days": [
          1,
          2,
          3
        ]
      },
      "back_quality": 1.3796137661872758,
      "forward_quality": 0,
      "forward_back_ratio": 0.0,
      "back_sharpe": 0.4918221901729709,
      "back_trades": 83,
      "n_trials": 300000,
      "walk_forward": {
        "windows": [
          {
            "window_index": 15,
            "start_bar": 312480,
            "end_bar": 352801,
            "is_oos": true,
            "n_trades": 6,
            "sharpe": -0.42189098609500764,
            "quality_score": 0.0,
            "profit_factor": 0.5330378396125528,
            "max_dd_pct": 100.0,
            "return_pct": -79.65927654609773,
            "passed": false
          },
          {
            "window_index": 16,
            "start_bar": 333312,
            "end_bar": 373633,
            "is_oos": true,
            "n_trades": 11,
            "sharpe": -0.4569286201878852,
            "quality_score": 0.0,
            "profit_factor": 0.6089916099413675,
            "max_dd_pct": 100.0,
            "return_pct": -101.83658170916846,
            "passed": false
          },
          {
            "window_index": 0,
            "start_bar": 0,
            "end_bar": 40321,
            "is_oos": false,
            "n_trades": 8,
            "sharpe": -0.365082458712752,
            "quality_score": 0.0,
            "profit_factor": 0.6269182389936504,
            "max_dd_pct": 161.44178980805376,
            "return_pct": -52.60419745789044,
            "passed": false
          },
          {
            "window_index": 1,
            "start_bar": 20832,
            "end_bar": 61153,
            "is_oos": false,
            "n_trades": 10,
            "sharpe": 0.4217423490072146,
            "quality_score": 0.05066387584086248,
            "profit_factor": 1.5771282386238599,
            "max_dd_pct": 54.372149066189955,
            "return_pct": 114.1703456444305,
            "passed": true
          },
          {
            "window_index": 2,
            "start_bar": 41664,
            "end_bar": 81985,
            "is_oos": false,
            "n_trades": 12,
            "sharpe": 1.949463710676976,
            "quality_score": 3.256222409244483,
            "profit_factor": 5.489513256825928,
            "max_dd_pct": 22.27412957250063,
            "return_pct": 528.3297112697755,
            "passed": true
          },
          {
            "window_index": 3,
            "start_bar": 62496,
            "end_bar": 102817,
            "is_oos": false,
            "n_trades": 7,
            "sharpe": 4.43562318045792,
            "quality_score": 77.79796569241682,
            "profit_factor": 10.0,
            "max_dd_pct": 0.0,
            "return_pct": 363.5487164527314,
            "passed": false
          },
          {
            "window_index": 4,
            "start_bar": 83328,
            "end_bar": 123649,
            "is_oos": false,
            "n_trades": 10,
            "sharpe": 1.0777872598174307,
            "quality_score": 1.1175366025486175,
            "profit_factor": 3.1464860287890897,
            "max_dd_pct": 29.817577962832637,
            "return_pct": 244.91063418673113,
            "passed": true
          },
          {
            "window_index": 5,
            "start_bar": 104160,
            "end_bar": 144481,
            "is_oos": false,
            "n_trades": 15,
            "sharpe": 0.9153093978318683,
            "quality_score": 1.056833776066225,
            "profit_factor": 2.405305602716355,
            "max_dd_pct": 32.1442674740043,
            "return_pct": 277.0627615062647,
            "passed": true
          },
          {
            "window_index": 6,
            "start_bar": 124992,
            "end_bar": 165313,
            "is_oos": false,
            "n_trades": 13,
            "sharpe": 0.21605920534999373,
            "quality_score": 1.38893957170633e-06,
            "profit_factor": 1.2452944748025696,
            "max_dd_pct": 58.95342054829615,
            "return_pct": 61.911498005056664,
            "passed": true
          },
          {
            "window_index": 7,
            "start_bar": 145824,
            "end_bar": 186145,
            "is_oos": false,
            "n_trades": 17,
            "sharpe": 0.5514832226654941,
            "quality_score": 0.03331022995343534,
            "profit_factor": 1.5315824573659391,
            "max_dd_pct": 112.41610738257674,
            "return_pct": 198.01196854773394,
            "passed": true
          },
          {
            "window_index": 8,
            "start_bar": 166656,
            "end_bar": 206977,
            "is_oos": false,
            "n_trades": 14,
            "sharpe": 2.0554954100169573,
            "quality_score": 11.227025482687953,
            "profit_factor": 5.843083129843613,
            "max_dd_pct": 14.400333209111633,
            "return_pct": 488.2926829268122,
            "passed": true
          },
          {
            "window_index": 9,
            "start_bar": 187488,
            "end_bar": 227809,
            "is_oos": false,
            "n_trades": 8,
            "sharpe": 0.8247077981321675,
            "quality_score": 0.2842366519008446,
            "profit_factor": 2.4108548168248016,
            "max_dd_pct": 31.303576707066565,
            "return_pct": 142.29216558329486,
            "passed": false
          },
          {
            "window_index": 10,
            "start_bar": 208320,
            "end_bar": 248641,
            "is_oos": false,
            "n_trades": 10,
            "sharpe": 1.1589797974931488,
            "quality_score": 0.24162656405004027,
            "profit_factor": 3.4261305241518905,
            "max_dd_pct": 41.21789780249242,
            "return_pct": 305.1381483276654,
            "passed": true
          },
          {
            "window_index": 11,
            "start_bar": 229152,
            "end_bar": 269473,
            "is_oos": false,
            "n_trades": 14,
            "sharpe": 2.0042811560999967,
            "quality_score": 4.769723134324832,
            "profit_factor": 5.920738636363381,
            "max_dd_pct": 13.139304888387136,
            "return_pct": 578.1926561754791,
            "passed": true
          },
          {
            "window_index": 12,
            "start_bar": 249984,
            "end_bar": 290305,
            "is_oos": false,
            "n_trades": 8,
            "sharpe": 1.2955718626777137,
            "quality_score": 4.785291702240336,
            "profit_factor": 4.857962305380707,
            "max_dd_pct": 12.50696896487718,
            "return_pct": 244.30702702702095,
            "passed": false
          },
          {
            "window_index": 13,
            "start_bar": 270816,
            "end_bar": 311137,
            "is_oos": false,
            "n_trades": 5,
            "sharpe": 0.07435493651465555,
            "quality_score": 0.0008259815416413686,
            "profit_factor": 1.1377110195400437,
            "max_dd_pct": 79.67880759945747,
            "return_pct": 15.590669676444987,
            "passed": false
          },
          {
            "window_index": 14,
            "start_bar": 291648,
            "end_bar": 331969,
            "is_oos": false,
            "n_trades": 10,
            "sharpe": -0.2880042245415117,
            "quality_score": 0.0,
            "profit_factor": 0.6904615147545742,
            "max_dd_pct": 181.86701240971382,
            "return_pct": -77.93404461688618,
            "passed": false
          }
        ],
        "n_windows": 17,
        "n_oos_windows": 2,
        "n_passed": 0,
        "pass_rate": 0.0,
        "mean_sharpe": -0.4394098031414464,
        "mean_quality": 0.0,
        "geo_mean_quality": 0.0,
        "min_quality": 0.0,
        "quality_cv": 0.0,
        "wfe": 0.0,
        "passed_gate": false
      },
      "cpcv": null,
      "stability": null,
      "monte_carlo": null,
      "regime": null,
      "trade_stats": {
        "n_trades": 1586,
        "total_pnl_pips": 10597.74,
        "total_pnl_usd": 1059.77,
        "lot_size": 0.01,
        "pip_value_usd": 0.1,
        "win_rate": 42.1,
        "profit_factor": 1.51,
        "avg_pnl_pips": 6.68,
        "median_pnl_pips": -6.03,
        "best_trade_pips": 197.57,
        "worst_trade_pips": -89.5,
        "std_dev_pips": 43.71,
        "avg_bars_held": 399.1,
        "exit_breakdown": {
          "stop_loss": {
            "count": 950,
            "pct": 59.9,
            "pnl_pips": -20864.97,
            "pnl_usd": -2086.5
          },
          "take_profit": {
            "count": 632,
            "pct": 39.8,
            "pnl_pips": 31431.03,
            "pnl_usd": 3143.1
          },
          "open": {
            "count": 4,
            "pct": 0.3,
            "pnl_pips": 31.68,
            "pnl_usd": 3.17
          }
        },
        "direction_stats": {
          "BUY": {
            "n_trades": 829,
            "win_rate": 46.4,
            "total_pnl_pips": 9085.13,
            "total_pnl_usd": 908.51
          },
          "SELL": {
            "n_trades": 757,
            "win_rate": 37.3,
            "total_pnl_pips": 1512.61,
            "total_pnl_usd": 151.26
          }
        }
      },
      "confidence": null,
      "eliminated": true,
      "eliminated_at_stage": "walk_forward",
      "elimination_reason": "pass_rate=0.00, mean_sharpe=-0.44"
    }
  ],
  "config_dict": {
    "commission_pips": 0.7,
    "max_spread_pips": 3.0,
    "bars_per_year": 24192,
    "output_dir": "pipeline_output",
    "n_candidates": 20,
    "wf_window_bars": 40321,
    "wf_step_bars": 20160,
    "wf_embargo_bars": 672,
    "wf_anchored": false,
    "wf_lookback_prefix": 800,
    "wf_max_trades_per_trial": 5000,
    "wf_min_trades_per_window": 10,
    "wf_pass_rate_gate": 0.6,
    "wf_mean_sharpe_gate": 0.3,
    "cpcv_enabled": true,
    "cpcv_n_blocks": 10,
    "cpcv_k_test": 2,
    "cpcv_purge_bars": 800,
    "cpcv_embargo_bars": 672,
    "cpcv_min_block_bars": 2000,
    "cpcv_pct_positive_sharpe_gate": 0.6,
    "cpcv_mean_sharpe_gate": 0.2,
    "stab_perturbation_steps": 3,
    "stab_use_forward_data": true,
    "stab_robust_mean": 0.8,
    "stab_robust_min": 0.5,
    "stab_moderate_mean": 0.6,
    "stab_fragile_mean": 0.4,
    "mc_n_bootstrap": 1000,
    "mc_block_size": 10,
    "mc_n_permutations": 1000,
    "mc_skip_levels": [
      0.05,
      0.1
    ],
    "mc_stress_slippage_mult": 1.5,
    "mc_stress_commission_mult": 1.3,
    "mc_dsr_gate": 0.95,
    "mc_permutation_p_gate": 0.05,
    "mc_bootstrap_ci": 0.95,
    "conf_weight_walk_forward": 0.3,
    "conf_weight_monte_carlo": 0.25,
    "conf_weight_forward_back": 0.15,
    "conf_weight_stability": 0.1,
    "conf_weight_dsr": 0.1,
    "conf_weight_backtest": 0.1,
    "conf_green_threshold": 70.0,
    "conf_yellow_threshold": 40.0,
    "regime_enabled": true,
    "regime_adx_period": 14,
    "regime_atr_period": 14,
    "regime_adx_trending": 25.0,
    "regime_adx_ranging": 20.0,
    "regime_natr_lookback": 100,
    "regime_natr_high_pctile": 75.0,
    "regime_min_bars": 32,
    "regime_min_trades": 30,
    "checkpoint_enabled": true,
    "seed": 42
  },
  "seed": 42
}